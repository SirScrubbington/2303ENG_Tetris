


ARM Macro Assembler    Page 1 


    1 00000000                 INCLUDE          Registers.s
    1 00000000         
    2 00000000 400FE000 
                       SYSCTL_BASE
                               EQU              0x400FE000
    3 00000000 400FE608 
                       SYSCTL_RCGCGPIO
                               EQU              0x400FE608
    4 00000000 400FEA08 
                       SYSCTL_PRGPIO
                               EQU              0x400FEA08
    5 00000000 4C4F434B 
                       GPIO_PORTF_UNLOCK
                               EQU              0x4C4F434B
    6 00000000 00000608 
                       RCGCGPIO
                               EQU              0x608
    7 00000000 00000A08 
                       PRGPIO  EQU              0xA08
    8 00000000 00000618 
                       RCGCUART
                               EQU              0x618
    9 00000000 00000A18 
                       PRUART  EQU              0xA18
   10 00000000         
   11 00000000 40004000 
                       GPIO_A_BASE
                               EQU              0x40004000
   12 00000000 40005000 
                       GPIO_B_BASE
                               EQU              0x40005000
   13 00000000 40006000 
                       GPIO_C_BASE
                               EQU              0x40006000
   14 00000000 40007000 
                       GPIO_D_BASE
                               EQU              0x40007000
   15 00000000 40024000 
                       GPIO_E_BASE
                               EQU              0x40024000
   16 00000000 40025000 
                       GPIO_F_BASE
                               EQU              0x40025000
   17 00000000         
   18 00000000 400043FC 
                       GPIO_A_DATA
                               EQU              0x400043FC
   19 00000000 400053FC 
                       GPIO_B_DATA
                               EQU              0x400053FC
   20 00000000 400063FC 
                       GPIO_C_DATA
                               EQU              0x400063FC
   21 00000000 400073FC 
                       GPIO_D_DATA
                               EQU              0x400073FC
   22 00000000 400243FC 
                       GPIO_E_DATA
                               EQU              0x400243FC



ARM Macro Assembler    Page 2 


   23 00000000 400253FC 
                       GPIO_F_DATA
                               EQU              0x400253FC
   24 00000000         
   25 00000000 000003FC 
                       GPIO_DATA
                               EQU              0x3FC
   26 00000000 00000400 
                       GPIO_DIR
                               EQU              0x400
   27 00000000 00000404 
                       GPIO_IS EQU              0x404
   28 00000000 00000408 
                       GPIO_IBE
                               EQU              0x408
   29 00000000 0000040C 
                       GPIO_IEV
                               EQU              0x40C
   30 00000000 00000410 
                       GPIO_IM EQU              0x410
   31 00000000 00000414 
                       GPIO_RIS
                               EQU              0x414
   32 00000000 00000418 
                       GPIO_MIS
                               EQU              0x418
   33 00000000 0000041C 
                       GPIO_ICR
                               EQU              0x41C
   34 00000000 00000420 
                       GPIO_AFSEL
                               EQU              0x420
   35 00000000 00000508 
                       GPIO_DR8R
                               EQU              0x508
   36 00000000 0000050C 
                       GPIO_ODR
                               EQU              0x50C
   37 00000000 00000510 
                       GPIO_PUR
                               EQU              0x510
   38 00000000 00000514 
                       GPIO_PDR
                               EQU              0x514
   39 00000000 0000051C 
                       GPIO_DEN
                               EQU              0x51C
   40 00000000 0000052C 
                       GPIO_PCTL
                               EQU              0x52C
   41 00000000 00000524 
                       GPIO_CR EQU              0x524
   42 00000000         
   43 00000000 4000C000 
                       UART0_BASE
                               EQU              0x4000C000
   44 00000000 4000C000 
                       UART0_DR_R
                               EQU              0x4000C000



ARM Macro Assembler    Page 3 


   45 00000000 4000C018 
                       UART0_FR_R
                               EQU              0x4000C018
   46 00000000 00000024 
                       UART0_IBRD
                               EQU              0x024
   47 00000000 00000028 
                       UART0_FBRD
                               EQU              0x028
   48 00000000 0000002C 
                       UART0_LCRH
                               EQU              0x02C
   49 00000000 00000030 
                       UART0_CTL
                               EQU              0x030
   50 00000000         
   51 00000000         
   52 00000000                 END
    2 00000000                 AREA             DATA, ALIGN=2
    3 00000000         
    4 00000000 00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 



ARM Macro Assembler    Page 4 


              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 



ARM Macro Assembler    Page 5 


              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 



ARM Macro Assembler    Page 6 


              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 



ARM Macro Assembler    Page 7 


              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 



ARM Macro Assembler    Page 8 


              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 



ARM Macro Assembler    Page 9 


              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 LCDmat  SPACE            1056
    5 00000420                 AREA             LCDCODE, CODE, READONLY, ALIGN=
2
    6 00000000                 EXPORT           LCD_Init
    7 00000000                 EXPORT           LCD_Cmd_Out
    8 00000000                 EXPORT           LCD_Dat_Out
    9 00000000                 EXPORT           LCD_Contrast
   10 00000000                 EXPORT           LCD_Pixel
   11 00000000                 EXPORT           LCD_Refresh
   12 00000000                 EXPORT           LCD_Blank
   13 00000000                 EXPORT           DelayMs_R0
   14 00000000         
   15 00000000         
   16 00000000 00000080 
                       CSbit   EQU              0x80
   17 00000000 00000040 
                       RSTbit  EQU              0x40
   18 00000000 00000020 
                       A0bit   EQU              0x20
   19 00000000 00000020 
                       CLKbit  EQU              0x20
   20 00000000 00000010 
                       DATbit  EQU              0x10
   21 00000000 400043FC 
                       CSport  EQU              0x400043FC
   22 00000000 400043FC 
                       RSTport EQU              0x400043FC
   23 00000000 400043FC 
                       A0port  EQU              0x400043FC
   24 00000000 400243FC 
                       CLKport EQU              0x400243FC
   25 00000000 400243FC 
                       DATport EQU              0x400243FC
   26 00000000         
   27 00000000         DelayMs_R0
   28 00000000 B51F            PUSH             {LR,R0-R4}
   29 00000002         ; R3 = Delay Time
   30 00000002         
   31 00000002 F1A0 0001 
                       OuterR0 SUB              R0,#1
   32 00000006 F44F 617A       MOV              R1,#4000
   33 0000000A         InnerR0



ARM Macro Assembler    Page 10 


   34 0000000A F1A1 0101       SUB              R1,#1
   35 0000000E 2900            CMP              R1,#0
   36 00000010 DCFB            BGT              InnerR0
   37 00000012 2800            CMP              R0,#0
   38 00000014 DCF5            BGT              OuterR0
   39 00000016         
   40 00000016 E8BD 401F       POP              {LR,R0-R4}
   41 0000001A 4770            BX               LR
   42 0000001C         
   43 0000001C         DelayMs
   44 0000001C B51F            PUSH             {LR,R0-R4}
   45 0000001E         ; R3 = Delay Time
   46 0000001E         
   47 0000001E F1A3 0301 
                       Outer   SUB              R3,#1
   48 00000022 F44F 607A       MOV              R0,#4000
   49 00000026         Inner
   50 00000026 F1A0 0001       SUB              R0,#1
   51 0000002A 2800            CMP              R0,#0
   52 0000002C DCFB            BGT              Inner
   53 0000002E 2B00            CMP              R3,#0
   54 00000030 DCF5            BGT              Outer
   55 00000032         
   56 00000032 E8BD 401F       POP              {LR,R0-R4}
   57 00000036 4770            BX               LR
   58 00000038         
   59 00000038         LCD_Init
   60 00000038         ; assuming CSwrite pin0, RSTwrite pin1 
   61 00000038 B53F            PUSH             {LR, R0-R5}
   62 0000003A 4990            LDR              R1, =CSport
   63 0000003C 680A            LDR              R2, [R1]
   64 0000003E F022 0280       BIC              R2, #(CSbit) ; GPIO_DATA &= ~1 
                                                              CSwrite(0)
   65 00000042 600A            STR              R2, [R1]
   66 00000044 498D            LDR              R1, =RSTport
   67 00000046 680A            LDR              R2, [R1]
   68 00000048 F022 0240       BIC              R2, #(RSTbit) ; GPIO_DATA &= ~2
                                                               RSTwrite(0)
   69 0000004C 600A            STR              R2, [R1]
   70 0000004E F04F 0346       MOV              R3, #70
   71 00000052 F7FF FFE3       BL               DelayMs     ; DelayMs(50ms)
   72 00000056 680A            LDR              R2, [R1]
   73 00000058 F042 0240       ORR              R2, #(RSTbit)
   74 0000005C 600A            STR              R2, [R1]    ; GPIO_DATA |= 2   
                                                             RSTwrite(1)
   75 0000005E F04F 0346       MOV              R3, #70
   76 00000062 F7FF FFDB       BL               DelayMs
   77 00000066         
   78 00000066 F04F 00A2       MOV              R0, #0xA2   ; 1/9th bias
   79 0000006A F7FF FFFE       BL               LCD_Cmd_Out
   80 0000006E F04F 00A0       MOV              R0, #0xA0
   81 00000072 F7FF FFFE       BL               LCD_Cmd_Out
   82 00000076 F04F 00C0       MOV              R0, #0xC0
   83 0000007A F7FF FFFE       BL               LCD_Cmd_Out
   84 0000007E F04F 00C8       MOV              R0, #0xC8
   85 00000082 F7FF FFFE       BL               LCD_Cmd_Out
   86 00000086 F04F 0023       MOV              R0, #(0x20 :OR: 0x3)
   87 0000008A F7FF FFFE       BL               LCD_Cmd_Out
   88 0000008E F04F 002C       MOV              R0, #(0x28 :OR: 0x4)



ARM Macro Assembler    Page 11 


   89 00000092 F7FF FFFE       BL               LCD_Cmd_Out
   90 00000096 F04F 0346       MOV              R3, #70
   91 0000009A F7FF FFBF       BL               DelayMs
   92 0000009E F04F 002E       MOV              R0, #(0x28 :OR: 0x6)
   93 000000A2 F7FF FFFE       BL               LCD_Cmd_Out
   94 000000A6 F04F 0346       MOV              R3, #70
   95 000000AA F7FF FFB7       BL               DelayMs
   96 000000AE F04F 002F       MOV              R0, #(0x28 :OR: 0x7)
   97 000000B2 F7FF FFFE       BL               LCD_Cmd_Out
   98 000000B6 F04F 0346       MOV              R3, #70
   99 000000BA F7FF FFAF       BL               DelayMs
  100 000000BE F04F 0026       MOV              R0, #0x26
  101 000000C2 F7FF FFFE       BL               LCD_Cmd_Out
  102 000000C6 F04F 0081       MOV              R0, #0x81
  103 000000CA F7FF FFFE       BL               LCD_Cmd_Out
  104 000000CE F04F 001F       MOV              R0, #31
  105 000000D2 F7FF FFFE       BL               LCD_Cmd_Out
  106 000000D6 F04F 0040       MOV              R0, #0x40
  107 000000DA F7FF FFFE       BL               LCD_Cmd_Out
  108 000000DE F04F 00AF       MOV              R0, #0xAF
  109 000000E2 F7FF FFFE       BL               LCD_Cmd_Out
  110 000000E6 4965            LDR              R1, =CSport
  111 000000E8 680A            LDR              R2, [R1]
  112 000000EA F042 0280       ORR              R2, #(CSbit) ; CSwrite(1)
  113 000000EE 600A            STR              R2, [R1]
  114 000000F0         
  115 000000F0 F04F 0005       MOV              R0, #5      ; set contrast
  116 000000F4 F04F 0132       MOV              R1, #50
  117 000000F8 F7FF FFFE       BL               LCD_Contrast
  118 000000FC F04F 00F0       MOV              R0, #0xF0
  119 00000100 F7FF FFFE       BL               LCD_Cmd_Out
  120 00000104         
  121 00000104 E8BD 403F       POP              {LR, R0-R5}
  122 00000108 4770            BX               LR
  123 0000010A         
  124 0000010A         
  125 0000010A         LCD_Cmd_Out
  126 0000010A         ; char in R0
  127 0000010A B53F            PUSH             {LR, R0-R5}
  128 0000010C F000 00FF       AND              R0, #0xFF
  129 00000110 495A            LDR              R1, =A0port
  130 00000112 680A            LDR              R2, [R1]
  131 00000114 F022 0220       BIC              R2, #(A0bit) ; A0write(0)
  132 00000118 600A            STR              R2, [R1]
  133 0000011A         
  134 0000011A F000 F810       BL               LCD_Char_Out
  135 0000011E         
  136 0000011E E8BD 403F       POP              {LR, R0-R5}
  137 00000122 4770            BX               LR
  138 00000124         
  139 00000124         LCD_Dat_Out
  140 00000124 B53F            PUSH             {LR, R0-R5}
  141 00000126 F000 00FF       AND              R0, #0xFF
  142 0000012A 4954            LDR              R1, =A0port
  143 0000012C 680A            LDR              R2, [R1]
  144 0000012E F042 0220       ORR              R2, #(A0bit) ; A0write(1)
  145 00000132 600A            STR              R2, [R1]
  146 00000134         
  147 00000134 F000 F803       BL               LCD_Char_Out



ARM Macro Assembler    Page 12 


  148 00000138         
  149 00000138 E8BD 403F       POP              {LR, R0-R5}
  150 0000013C 4770            BX               LR
  151 0000013E         
  152 0000013E         LCD_Char_Out
  153 0000013E B53F            PUSH             {LR, R0-R5}
  154 00000140 494E            LDR              R1, =CSport ; port containing C
                                                            S bit
  155 00000142 680A            LDR              R2, [R1]
  156 00000144 F022 0280       BIC              R2, #(CSbit) ; CSwrite(0);
  157 00000148 600A            STR              R2, [R1]
  158 0000014A         
  159 0000014A F04F 0300       MOV              R3, #0      ;r3 is loop counter
                                                            
  160 0000014E         COutLp
  161 0000014E F000 0580       AND              R5, R0, #0x80
  162 00000152 494B            LDR              R1, =DATport ; port containing 
                                                            data bit
  163 00000154 680A            LDR              R2, [R1]
  164 00000156 2D00            CMP              R5, #0
  165 00000158 D002            BEQ              elsejp
  166 0000015A F042 0210       ORR              R2, #(DATbit) 
                                                            ;GPIO_Data ORR 0x80
                                                            
  167 0000015E E001            B                nextjp      ; or
  168 00000160 F022 0210 
                       elsejp  BIC              R2, #(DATbit) 
                                                            ;GPIO_Data BIC 0x80
                                                            
  169 00000164 600A    nextjp  STR              R2, [R1]
  170 00000166         
  171 00000166 4946            LDR              R1, =CLKport ; port containing 
                                                            CLK bit
  172 00000168 680A            LDR              R2, [R1]
  173 0000016A F042 0220       ORR              R2, #(CLKbit) ;pulse clock
  174 0000016E 600A            STR              R2, [R1]
  175 00000170 680A            LDR              R2, [R1]
  176 00000172 F022 0220       BIC              R2, #(CLKbit)
  177 00000176 600A            STR              R2, [R1]
  178 00000178         
  179 00000178 EA4F 0040       LSL              R0, #1      ; data << 1
  180 0000017C F103 0301       ADD              R3, #1
  181 00000180 2B08            CMP              R3, #8
  182 00000182 D3E4            BLO              COutLp
  183 00000184         
  184 00000184 493D            LDR              R1, =CSport
  185 00000186 680A            LDR              R2, [R1]
  186 00000188 F042 0280       ORR              R2, #(CSbit) ; CSwrite(1);
  187 0000018C 600A            STR              R2, [R1]
  188 0000018E E8BD 403F       POP              {LR, R0-R5}
  189 00000192 4770            BX               LR
  190 00000194         
  191 00000194         LCD_Contrast
  192 00000194 B53F            PUSH             {LR, R0-R5}
  193 00000196         ; R4 = res_ratio (<=7)  R5= contrast (<=63)
  194 00000196 2807            CMP              R0, #7
  195 00000198 D901            BLS              CtNt1
  196 0000019A F04F 0007       MOV              R0, #7
  197 0000019E 293F    CtNt1   CMP              R1, #63



ARM Macro Assembler    Page 13 


  198 000001A0 D901            BLS              CtNt2
  199 000001A2 F04F 013F       MOV              R1, #63
  200 000001A6 F040 0020 
                       CtNt2   ORR              R0, #0x20
  201 000001AA F7FF FFFE       BL               LCD_Cmd_Out
  202 000001AE F04F 0081       MOV              R0, #0x81
  203 000001B2 F7FF FFFE       BL               LCD_Cmd_Out
  204 000001B6 4608            MOV              R0, R1
  205 000001B8 F7FF FFFE       BL               LCD_Cmd_Out
  206 000001BC E8BD 403F       POP              {LR, R0-R5}
  207 000001C0 4770            BX               LR
  208 000001C2         
  209 000001C2         LCD_Pixel
  210 000001C2         ; R0 = x = 1-128, R1 = y= 1-64  R2= colour
  211 000001C2 B5FF            PUSH             {LR, R0-R7}
  212 000001C4 F1A0 0001       SUB              R0, #1      ; x
  213 000001C8 2921            CMP              R1, #33
  214 000001CA D302            BLO              top
  215 000001CC F1A1 0120       SUB              R1, #32
  216 000001D0 E001            B                pixnxt
  217 000001D2 F101 0120 
                       top     ADD              R1, #32
  218 000001D6 F1A1 0101 
                       pixnxt  SUB              R1, #1      ; y  
  219 000001DA F04F 0308       MOV              R3, #8
  220 000001DE FBB1 F4F3       UDIV             R4, R1, R3  ; y/8
  221 000001E2 FB04 1513       MLS              R5, R4, R3, R1 
                                                            ;remainder of y/8
  222 000001E6 F04F 0380       MOV              R3, #128
  223 000001EA FB04 0603       MLA              R6, R4, R3, R0 ; MATPOS = R6 = 
                                                            y/8 * 128 + x
  224 000001EE 4C25            LDR              R4, =LCDmat
  225 000001F0 5DA7            LDRB             R7, [R4,R6]
  226 000001F2 F04F 0301       MOV              R3, #1
  227 000001F6 FA03 F305       LSL              R3, R5
  228 000001FA 2A01            CMP              R2, #1
  229 000001FC D102            BNE              blkpx
  230 000001FE EA47 0703       ORR              R7, R3      ; lcd_mat[R6] orr
  231 00000202 E001            B                pxend
  232 00000204 EA27 0703 
                       blkpx   BIC              R7, R3      ; lcd_mat[R6] bic
  233 00000208 55A7    pxend   STRB             R7, [R4,R6]
  234 0000020A E8BD 40FF       POP              {LR, R0-R7}
  235 0000020E 4770            BX               LR
  236 00000210         
  237 00000210         LCD_Refresh
  238 00000210 B5FF            PUSH             {LR, R0-R7}
  239 00000212 F04F 0600       MOV              R6, #0      ; y=R6, x=R5
  240 00000216         yAgn                                 ; y loop
  241 00000216 F046 00B0       ORR              R0, R6, #0xB0 ; R4=R6 | B0
  242 0000021A F7FF FFFE       BL               LCD_Cmd_Out
  243 0000021E F04F 0000       MOV              R0, #0
  244 00000222 F7FF FFFE       BL               LCD_Cmd_Out
  245 00000226 F04F 0010       MOV              R0, #0x10
  246 0000022A F7FF FFFE       BL               LCD_Cmd_Out
  247 0000022E         
  248 0000022E F04F 0500       MOV              R5, #0
  249 00000232 4914    xAgn    LDR              R1, =LCDmat ;x loop
  250 00000234 F04F 0080       MOV              R0, #128



ARM Macro Assembler    Page 14 


  251 00000238 FB06 5300       MLA              R3, R6, R0, R5 ; R3=y*128 +x
  252 0000023C 5CC8            LDRB             R0, [R1,R3]
  253 0000023E F7FF FFFE       BL               LCD_Dat_Out
  254 00000242 F105 0501       ADD              R5, #1      ; inc x
  255 00000246 2D80            CMP              R5, #128
  256 00000248 D3F3            BLO              xAgn
  257 0000024A         
  258 0000024A F106 0601       ADD              R6, #1      ; inc 6y
  259 0000024E 2E08            CMP              R6, #8
  260 00000250 D3E1            BLO              yAgn
  261 00000252 E8BD 40FF       POP              {LR, R0-R7}
  262 00000256 4770            BX               LR
  263 00000258         
  264 00000258         LCD_Blank
  265 00000258 B57F            PUSH             {LR, R0-R6}
  266 0000025A 490A            LDR              R1, =LCDmat
  267 0000025C F04F 0200       MOV              R2, #0
  268 00000260 F04F 0000       MOV              R0, #0      ;offset
  269 00000264 540A    blagn   STRB             R2, [R1, R0]
  270 00000266 F100 0001       ADD              R0, #1
  271 0000026A F5B0 6F80       CMP              R0, #1024
  272 0000026E D3F9            BLO              blagn
  273 00000270         
  274 00000270 F7FF FFFE       BL               LCD_Refresh
  275 00000274         
  276 00000274 E8BD 407F       POP              {LR, R0-R6}
  277 00000278 4770            BX               LR
  278 0000027A         
  279 0000027A 00 00           ALIGN
  280 0000027C                 END
              400043FC 
              400243FC 
              00000000 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\lcd_use.d -o.\objects\lcd_use.o -I.\RTE\_Target_1 -IC
:\Keil_v5\ARM\PACK\Keil\TM4C_DFP\1.1.0\Device\Include\TM4C123 -IC:\Keil_v5\ARM\
CMSIS\Include --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION SETA 5
24" --predefine="TM4C123GH6PM SETA 1" --list=.\listings\lcd_use.lst LCD_Use.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

DATA 00000000

Symbol: DATA
   Definitions
      At line 2 in file LCD_Use.s
   Uses
      None
Comment: DATA unused
LCDmat 00000000

Symbol: LCDmat
   Definitions
      At line 4 in file LCD_Use.s
   Uses
      At line 224 in file LCD_Use.s
      At line 249 in file LCD_Use.s
      At line 266 in file LCD_Use.s

2 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

COutLp 0000014E

Symbol: COutLp
   Definitions
      At line 160 in file LCD_Use.s
   Uses
      At line 182 in file LCD_Use.s
Comment: COutLp used once
CtNt1 0000019E

Symbol: CtNt1
   Definitions
      At line 197 in file LCD_Use.s
   Uses
      At line 195 in file LCD_Use.s
Comment: CtNt1 used once
CtNt2 000001A6

Symbol: CtNt2
   Definitions
      At line 200 in file LCD_Use.s
   Uses
      At line 198 in file LCD_Use.s
Comment: CtNt2 used once
DelayMs 0000001C

Symbol: DelayMs
   Definitions
      At line 43 in file LCD_Use.s
   Uses
      At line 71 in file LCD_Use.s
      At line 76 in file LCD_Use.s
      At line 91 in file LCD_Use.s
      At line 95 in file LCD_Use.s
      At line 99 in file LCD_Use.s

DelayMs_R0 00000000

Symbol: DelayMs_R0
   Definitions
      At line 27 in file LCD_Use.s
   Uses
      At line 13 in file LCD_Use.s
Comment: DelayMs_R0 used once
Inner 00000026

Symbol: Inner
   Definitions
      At line 49 in file LCD_Use.s
   Uses
      At line 52 in file LCD_Use.s
Comment: Inner used once
InnerR0 0000000A

Symbol: InnerR0
   Definitions
      At line 33 in file LCD_Use.s
   Uses
      At line 36 in file LCD_Use.s



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

Comment: InnerR0 used once
LCDCODE 00000000

Symbol: LCDCODE
   Definitions
      At line 5 in file LCD_Use.s
   Uses
      None
Comment: LCDCODE unused
LCD_Blank 00000258

Symbol: LCD_Blank
   Definitions
      At line 264 in file LCD_Use.s
   Uses
      At line 12 in file LCD_Use.s
Comment: LCD_Blank used once
LCD_Char_Out 0000013E

Symbol: LCD_Char_Out
   Definitions
      At line 152 in file LCD_Use.s
   Uses
      At line 134 in file LCD_Use.s
      At line 147 in file LCD_Use.s

LCD_Cmd_Out 0000010A

Symbol: LCD_Cmd_Out
   Definitions
      At line 125 in file LCD_Use.s
   Uses
      At line 7 in file LCD_Use.s
      At line 79 in file LCD_Use.s
      At line 81 in file LCD_Use.s
      At line 83 in file LCD_Use.s
      At line 85 in file LCD_Use.s
      At line 87 in file LCD_Use.s
      At line 89 in file LCD_Use.s
      At line 93 in file LCD_Use.s
      At line 97 in file LCD_Use.s
      At line 101 in file LCD_Use.s
      At line 103 in file LCD_Use.s
      At line 105 in file LCD_Use.s
      At line 107 in file LCD_Use.s
      At line 109 in file LCD_Use.s
      At line 119 in file LCD_Use.s
      At line 201 in file LCD_Use.s
      At line 203 in file LCD_Use.s
      At line 205 in file LCD_Use.s
      At line 242 in file LCD_Use.s
      At line 244 in file LCD_Use.s
      At line 246 in file LCD_Use.s

LCD_Contrast 00000194

Symbol: LCD_Contrast
   Definitions
      At line 191 in file LCD_Use.s



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Relocatable symbols

   Uses
      At line 9 in file LCD_Use.s
      At line 117 in file LCD_Use.s

LCD_Dat_Out 00000124

Symbol: LCD_Dat_Out
   Definitions
      At line 139 in file LCD_Use.s
   Uses
      At line 8 in file LCD_Use.s
      At line 253 in file LCD_Use.s

LCD_Init 00000038

Symbol: LCD_Init
   Definitions
      At line 59 in file LCD_Use.s
   Uses
      At line 6 in file LCD_Use.s
Comment: LCD_Init used once
LCD_Pixel 000001C2

Symbol: LCD_Pixel
   Definitions
      At line 209 in file LCD_Use.s
   Uses
      At line 10 in file LCD_Use.s
Comment: LCD_Pixel used once
LCD_Refresh 00000210

Symbol: LCD_Refresh
   Definitions
      At line 237 in file LCD_Use.s
   Uses
      At line 11 in file LCD_Use.s
      At line 274 in file LCD_Use.s

Outer 0000001E

Symbol: Outer
   Definitions
      At line 47 in file LCD_Use.s
   Uses
      At line 54 in file LCD_Use.s
Comment: Outer used once
OuterR0 00000002

Symbol: OuterR0
   Definitions
      At line 31 in file LCD_Use.s
   Uses
      At line 38 in file LCD_Use.s
Comment: OuterR0 used once
blagn 00000264

Symbol: blagn
   Definitions
      At line 269 in file LCD_Use.s



ARM Macro Assembler    Page 4 Alphabetic symbol ordering
Relocatable symbols

   Uses
      At line 272 in file LCD_Use.s
Comment: blagn used once
blkpx 00000204

Symbol: blkpx
   Definitions
      At line 232 in file LCD_Use.s
   Uses
      At line 229 in file LCD_Use.s
Comment: blkpx used once
elsejp 00000160

Symbol: elsejp
   Definitions
      At line 168 in file LCD_Use.s
   Uses
      At line 165 in file LCD_Use.s
Comment: elsejp used once
nextjp 00000164

Symbol: nextjp
   Definitions
      At line 169 in file LCD_Use.s
   Uses
      At line 167 in file LCD_Use.s
Comment: nextjp used once
pixnxt 000001D6

Symbol: pixnxt
   Definitions
      At line 218 in file LCD_Use.s
   Uses
      At line 216 in file LCD_Use.s
Comment: pixnxt used once
pxend 00000208

Symbol: pxend
   Definitions
      At line 233 in file LCD_Use.s
   Uses
      At line 231 in file LCD_Use.s
Comment: pxend used once
top 000001D2

Symbol: top
   Definitions
      At line 217 in file LCD_Use.s
   Uses
      At line 214 in file LCD_Use.s
Comment: top used once
xAgn 00000232

Symbol: xAgn
   Definitions
      At line 249 in file LCD_Use.s
   Uses
      At line 256 in file LCD_Use.s
Comment: xAgn used once



ARM Macro Assembler    Page 5 Alphabetic symbol ordering
Relocatable symbols

yAgn 00000216

Symbol: yAgn
   Definitions
      At line 240 in file LCD_Use.s
   Uses
      At line 260 in file LCD_Use.s
Comment: yAgn used once
27 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

A0bit 00000020

Symbol: A0bit
   Definitions
      At line 18 in file LCD_Use.s
   Uses
      At line 131 in file LCD_Use.s
      At line 144 in file LCD_Use.s

A0port 400043FC

Symbol: A0port
   Definitions
      At line 23 in file LCD_Use.s
   Uses
      At line 129 in file LCD_Use.s
      At line 142 in file LCD_Use.s

CLKbit 00000020

Symbol: CLKbit
   Definitions
      At line 19 in file LCD_Use.s
   Uses
      At line 173 in file LCD_Use.s
      At line 176 in file LCD_Use.s

CLKport 400243FC

Symbol: CLKport
   Definitions
      At line 24 in file LCD_Use.s
   Uses
      At line 171 in file LCD_Use.s
Comment: CLKport used once
CSbit 00000080

Symbol: CSbit
   Definitions
      At line 16 in file LCD_Use.s
   Uses
      At line 64 in file LCD_Use.s
      At line 112 in file LCD_Use.s
      At line 156 in file LCD_Use.s
      At line 186 in file LCD_Use.s

CSport 400043FC

Symbol: CSport
   Definitions
      At line 21 in file LCD_Use.s
   Uses
      At line 62 in file LCD_Use.s
      At line 110 in file LCD_Use.s
      At line 154 in file LCD_Use.s
      At line 184 in file LCD_Use.s

DATbit 00000010




ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

Symbol: DATbit
   Definitions
      At line 20 in file LCD_Use.s
   Uses
      At line 166 in file LCD_Use.s
      At line 168 in file LCD_Use.s

DATport 400243FC

Symbol: DATport
   Definitions
      At line 25 in file LCD_Use.s
   Uses
      At line 162 in file LCD_Use.s
Comment: DATport used once
GPIO_AFSEL 00000420

Symbol: GPIO_AFSEL
   Definitions
      At line 34 in file Registers.s
   Uses
      None
Comment: GPIO_AFSEL unused
GPIO_A_BASE 40004000

Symbol: GPIO_A_BASE
   Definitions
      At line 11 in file Registers.s
   Uses
      None
Comment: GPIO_A_BASE unused
GPIO_A_DATA 400043FC

Symbol: GPIO_A_DATA
   Definitions
      At line 18 in file Registers.s
   Uses
      None
Comment: GPIO_A_DATA unused
GPIO_B_BASE 40005000

Symbol: GPIO_B_BASE
   Definitions
      At line 12 in file Registers.s
   Uses
      None
Comment: GPIO_B_BASE unused
GPIO_B_DATA 400053FC

Symbol: GPIO_B_DATA
   Definitions
      At line 19 in file Registers.s
   Uses
      None
Comment: GPIO_B_DATA unused
GPIO_CR 00000524

Symbol: GPIO_CR
   Definitions



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Absolute symbols

      At line 41 in file Registers.s
   Uses
      None
Comment: GPIO_CR unused
GPIO_C_BASE 40006000

Symbol: GPIO_C_BASE
   Definitions
      At line 13 in file Registers.s
   Uses
      None
Comment: GPIO_C_BASE unused
GPIO_C_DATA 400063FC

Symbol: GPIO_C_DATA
   Definitions
      At line 20 in file Registers.s
   Uses
      None
Comment: GPIO_C_DATA unused
GPIO_DATA 000003FC

Symbol: GPIO_DATA
   Definitions
      At line 25 in file Registers.s
   Uses
      None
Comment: GPIO_DATA unused
GPIO_DEN 0000051C

Symbol: GPIO_DEN
   Definitions
      At line 39 in file Registers.s
   Uses
      None
Comment: GPIO_DEN unused
GPIO_DIR 00000400

Symbol: GPIO_DIR
   Definitions
      At line 26 in file Registers.s
   Uses
      None
Comment: GPIO_DIR unused
GPIO_DR8R 00000508

Symbol: GPIO_DR8R
   Definitions
      At line 35 in file Registers.s
   Uses
      None
Comment: GPIO_DR8R unused
GPIO_D_BASE 40007000

Symbol: GPIO_D_BASE
   Definitions
      At line 14 in file Registers.s
   Uses
      None



ARM Macro Assembler    Page 4 Alphabetic symbol ordering
Absolute symbols

Comment: GPIO_D_BASE unused
GPIO_D_DATA 400073FC

Symbol: GPIO_D_DATA
   Definitions
      At line 21 in file Registers.s
   Uses
      None
Comment: GPIO_D_DATA unused
GPIO_E_BASE 40024000

Symbol: GPIO_E_BASE
   Definitions
      At line 15 in file Registers.s
   Uses
      None
Comment: GPIO_E_BASE unused
GPIO_E_DATA 400243FC

Symbol: GPIO_E_DATA
   Definitions
      At line 22 in file Registers.s
   Uses
      None
Comment: GPIO_E_DATA unused
GPIO_F_BASE 40025000

Symbol: GPIO_F_BASE
   Definitions
      At line 16 in file Registers.s
   Uses
      None
Comment: GPIO_F_BASE unused
GPIO_F_DATA 400253FC

Symbol: GPIO_F_DATA
   Definitions
      At line 23 in file Registers.s
   Uses
      None
Comment: GPIO_F_DATA unused
GPIO_IBE 00000408

Symbol: GPIO_IBE
   Definitions
      At line 28 in file Registers.s
   Uses
      None
Comment: GPIO_IBE unused
GPIO_ICR 0000041C

Symbol: GPIO_ICR
   Definitions
      At line 33 in file Registers.s
   Uses
      None
Comment: GPIO_ICR unused
GPIO_IEV 0000040C




ARM Macro Assembler    Page 5 Alphabetic symbol ordering
Absolute symbols

Symbol: GPIO_IEV
   Definitions
      At line 29 in file Registers.s
   Uses
      None
Comment: GPIO_IEV unused
GPIO_IM 00000410

Symbol: GPIO_IM
   Definitions
      At line 30 in file Registers.s
   Uses
      None
Comment: GPIO_IM unused
GPIO_IS 00000404

Symbol: GPIO_IS
   Definitions
      At line 27 in file Registers.s
   Uses
      None
Comment: GPIO_IS unused
GPIO_MIS 00000418

Symbol: GPIO_MIS
   Definitions
      At line 32 in file Registers.s
   Uses
      None
Comment: GPIO_MIS unused
GPIO_ODR 0000050C

Symbol: GPIO_ODR
   Definitions
      At line 36 in file Registers.s
   Uses
      None
Comment: GPIO_ODR unused
GPIO_PCTL 0000052C

Symbol: GPIO_PCTL
   Definitions
      At line 40 in file Registers.s
   Uses
      None
Comment: GPIO_PCTL unused
GPIO_PDR 00000514

Symbol: GPIO_PDR
   Definitions
      At line 38 in file Registers.s
   Uses
      None
Comment: GPIO_PDR unused
GPIO_PORTF_UNLOCK 4C4F434B

Symbol: GPIO_PORTF_UNLOCK
   Definitions
      At line 5 in file Registers.s



ARM Macro Assembler    Page 6 Alphabetic symbol ordering
Absolute symbols

   Uses
      None
Comment: GPIO_PORTF_UNLOCK unused
GPIO_PUR 00000510

Symbol: GPIO_PUR
   Definitions
      At line 37 in file Registers.s
   Uses
      None
Comment: GPIO_PUR unused
GPIO_RIS 00000414

Symbol: GPIO_RIS
   Definitions
      At line 31 in file Registers.s
   Uses
      None
Comment: GPIO_RIS unused
PRGPIO 00000A08

Symbol: PRGPIO
   Definitions
      At line 7 in file Registers.s
   Uses
      None
Comment: PRGPIO unused
PRUART 00000A18

Symbol: PRUART
   Definitions
      At line 9 in file Registers.s
   Uses
      None
Comment: PRUART unused
RCGCGPIO 00000608

Symbol: RCGCGPIO
   Definitions
      At line 6 in file Registers.s
   Uses
      None
Comment: RCGCGPIO unused
RCGCUART 00000618

Symbol: RCGCUART
   Definitions
      At line 8 in file Registers.s
   Uses
      None
Comment: RCGCUART unused
RSTbit 00000040

Symbol: RSTbit
   Definitions
      At line 17 in file LCD_Use.s
   Uses
      At line 68 in file LCD_Use.s
      At line 73 in file LCD_Use.s



ARM Macro Assembler    Page 7 Alphabetic symbol ordering
Absolute symbols


RSTport 400043FC

Symbol: RSTport
   Definitions
      At line 22 in file LCD_Use.s
   Uses
      At line 66 in file LCD_Use.s
Comment: RSTport used once
SYSCTL_BASE 400FE000

Symbol: SYSCTL_BASE
   Definitions
      At line 2 in file Registers.s
   Uses
      None
Comment: SYSCTL_BASE unused
SYSCTL_PRGPIO 400FEA08

Symbol: SYSCTL_PRGPIO
   Definitions
      At line 4 in file Registers.s
   Uses
      None
Comment: SYSCTL_PRGPIO unused
SYSCTL_RCGCGPIO 400FE608

Symbol: SYSCTL_RCGCGPIO
   Definitions
      At line 3 in file Registers.s
   Uses
      None
Comment: SYSCTL_RCGCGPIO unused
UART0_BASE 4000C000

Symbol: UART0_BASE
   Definitions
      At line 43 in file Registers.s
   Uses
      None
Comment: UART0_BASE unused
UART0_CTL 00000030

Symbol: UART0_CTL
   Definitions
      At line 49 in file Registers.s
   Uses
      None
Comment: UART0_CTL unused
UART0_DR_R 4000C000

Symbol: UART0_DR_R
   Definitions
      At line 44 in file Registers.s
   Uses
      None
Comment: UART0_DR_R unused
UART0_FBRD 00000028




ARM Macro Assembler    Page 8 Alphabetic symbol ordering
Absolute symbols

Symbol: UART0_FBRD
   Definitions
      At line 47 in file Registers.s
   Uses
      None
Comment: UART0_FBRD unused
UART0_FR_R 4000C018

Symbol: UART0_FR_R
   Definitions
      At line 45 in file Registers.s
   Uses
      None
Comment: UART0_FR_R unused
UART0_IBRD 00000024

Symbol: UART0_IBRD
   Definitions
      At line 46 in file Registers.s
   Uses
      None
Comment: UART0_IBRD unused
UART0_LCRH 0000002C

Symbol: UART0_LCRH
   Definitions
      At line 48 in file Registers.s
   Uses
      None
Comment: UART0_LCRH unused
54 symbols
419 symbols in table
